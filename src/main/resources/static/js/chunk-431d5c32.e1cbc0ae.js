(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-431d5c32"],{1397:function(e,t,s){"use strict";s("63a9")},"63a9":function(e,t,s){},"71c2":function(e,t,s){"use strict";var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[1==this.status?s("el-header",{staticClass:"header_1"},[s("el-input",{staticClass:"h_search",attrs:{placeholder:"请输入你要查找的内容"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.goSearch(!1)}},model:{value:e.search_words.searchWords,callback:function(t){e.$set(e.search_words,"searchWords",t)},expression:"search_words.searchWords"}},[s("el-button",{directives:[{name:"popover",rawName:"v-popover:search",arg:"search"}],attrs:{slot:"prepend",type:"text",icon:"el-icon-caret-bottom"},slot:"prepend"},[e._v("高级搜索")]),s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){return e.goSearch(!1)}},slot:"append"})],1),s("el-popover",{ref:"search",attrs:{placement:"bottom",width:"600",offset:-250,title:"高级搜索",trigger:"click"}},[s("el-form",{ref:"search_words",attrs:{model:e.search_words,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"检索词"}},[s("el-input",{attrs:{placeholder:"多个检索词用空格分开"},model:{value:e.search_words.searchWords,callback:function(t){e.$set(e.search_words,"searchWords",t)},expression:"search_words.searchWords"}})],1),s("el-form-item",{attrs:{label:"标题"}},[s("el-input",{attrs:{placeholder:"输入标题检索"},model:{value:e.search_words.title,callback:function(t){e.$set(e.search_words,"title",t)},expression:"search_words.title"}})],1),s("el-form-item",{attrs:{label:"关键字"}},[s("el-input",{attrs:{placeholder:"多个关键字用空格分开"},model:{value:e.search_words.keyWords,callback:function(t){e.$set(e.search_words,"keyWords",t)},expression:"search_words.keyWords"}})],1),s("el-form-item",{attrs:{label:"作者"}},[s("el-input",{attrs:{placeholder:"多个作者用空格分开"},model:{value:e.search_words.experts,callback:function(t){e.$set(e.search_words,"experts",t)},expression:"search_words.experts"}})],1),s("el-form-item",{attrs:{label:"来源"}},[s("el-input",{model:{value:e.search_words.origin,callback:function(t){e.$set(e.search_words,"origin",t)},expression:"search_words.origin"}})],1),s("el-form-item",{attrs:{label:"发表时间"}},[s("el-col",{attrs:{span:11}},[s("el-date-picker",{staticStyle:{width:"90%"},attrs:{type:"date",placeholder:"选择起始日期"},model:{value:e.search_words.startTime,callback:function(t){e.$set(e.search_words,"startTime",t)},expression:"search_words.startTime"}})],1),s("el-col",{attrs:{span:11}},[s("el-date-picker",{staticStyle:{width:"90%"},attrs:{type:"date",placeholder:"选择截至日期"},model:{value:e.search_words.endTime,callback:function(t){e.$set(e.search_words,"endTime",t)},expression:"search_words.endTime"}})],1)],1),s("el-form-item",[s("el-button",{on:{click:function(t){return e.goSearch(!0)}}},[e._v("搜索")])],1)],1)],1),s("div",{staticClass:"r_con"},[s("el-badge",{staticClass:"newMsg",attrs:{value:"new"}},[s("el-button",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticClass:"r_con_mess_1",attrs:{type:"info",icon:"el-icon-message"}},[e._v("消息")])],1),e.isLogin?s("el-button",{staticClass:"r_con_user",attrs:{type:"text"},on:{click:function(t){return e.goUser()}}},[e._v(e._s(this.userName))]):e._e(),e.isLogin?s("el-button",{staticClass:"r_con_reLogin",attrs:{type:"text"},on:{click:function(t){return e.reLogin()}}},[e._v("退出登录")]):e._e(),e.isLogin?e._e():s("el-button",{staticClass:"r_con_login",attrs:{type:"text"},on:{click:function(t){return e.goLogin()}}},[e._v("登录")]),e.isLogin?e._e():s("el-button",{staticClass:"r_con_Register",attrs:{type:"text"},on:{click:function(t){return e.goRegister()}}},[e._v("注册")])],1),s("el-popover",{ref:"popover",attrs:{title:"消息",placement:"bottom",width:"290",trigger:"click",content:"123456789"}},[s("el-col",{staticClass:"MsgCol"},e._l(8,(function(t,o){return s("el-row",{key:o,staticClass:"MsgRow"},[s("el-card",{staticClass:"MsgCard"},[s("span",[e._v("123465")]),s("br"),s("el-button",[e._v("已读")]),s("el-button",[e._v("删除此信息")])],1)],1)})),1)],1)],1):e._e(),2==this.status?s("el-header",{staticClass:"header_2"},[s("div",{staticClass:"r_con"},[s("el-button",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticClass:"r_con_mess_2",attrs:{type:"text"}},[e._v("消息")]),e.isLogin?s("el-button",{staticClass:"r_con_user",attrs:{type:"text"},on:{click:function(t){return e.goUser()}}},[e._v(e._s(this.userName))]):e._e(),e.isLogin?s("el-button",{staticClass:"r_con_reLogin",attrs:{type:"text"},on:{click:function(t){return e.reLogin()}}},[e._v("退出登录")]):e._e(),e.isLogin?e._e():s("el-button",{staticClass:"r_con_login",attrs:{type:"text"},on:{click:function(t){return e.goLogin()}}},[e._v("登录")]),e.isLogin?e._e():s("el-button",{staticClass:"r_con_Register",attrs:{type:"text"},on:{click:function(t){return e.goRegister()}}},[e._v("注册")])],1),s("el-popover",{ref:"popover",attrs:{title:"消息",placement:"bottom",width:"200",trigger:"click"}},e._l(4,(function(t,o){return s("el-row",{key:o},[s("el-card",[e._v("123456")])],1)})),1)],1):e._e()],1)},r=[],a={name:"header",data:function(){return{search_words:{searchWords:"",title:"",keyWords:"",experts:"",origin:"",startTime:0,endTime:0},isLogin:!1,userName:""}},props:{status:{required:!1,default:"1"}},methods:{goSearch:function(e){e?""===this.search_words.searchWords&&""===this.search_words.title&&""===this.search_words.keyWords&&""===this.search_words.experts&&""===this.search_words.origin&&0===this.search_words.startTime&&0===this.search_words.endTime?alert("搜索内容为空"):this.$router.push({name:"AcademicSearch",params:{search_words:encodeURIComponent(JSON.stringify(this.search_words))}}):""!==this.search_words.searchWords?this.$router.push({name:"AcademicSearch",params:{search_words:encodeURIComponent(JSON.stringify(this.search_words))}}):alert("搜索内容为空")},goUser:function(){this.$router.push({name:"PerInfo"})},goLogin:function(){this.$router.push({name:"Login"})},goRegister:function(){this.$router.push({name:"Register"})},reLogin:function(){sessionStorage.clear(),location.reload()}},mounted:function(){null==sessionStorage.getItem("userName")&&null==sessionStorage.getItem("userID")||(this.isLogin=!0,this.userName=sessionStorage.getItem("userName"))}},n=a,i=(s("1397"),s("2877")),l=Object(i["a"])(n,o,r,!1,null,"757b0b4c",null);t["a"]=l.exports},"8b28":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("Header"),s("el-container",[s("el-aside",{staticStyle:{width:"14%"}},[s("el-menu",{attrs:{"default-active":"2-1"}},[s("el-submenu",{attrs:{index:"1"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-message"}),e._v("认领门户")]),s("el-menu-item",{attrs:{index:"1-1"},on:{click:function(t){return e.changeState("1-1")}}},[s("template",{slot:"title"},[e._v("待处理申请")])],2),s("el-menu-item",{attrs:{index:"1-2"},on:{click:function(t){return e.changeState("1-2")}}},[s("template",{slot:"title"},[e._v("全部申请")])],2)],2),s("el-submenu",{attrs:{index:"2"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-message"}),e._v("认领文献")]),s("el-menu-item",{attrs:{index:"2-1"},on:{click:function(t){return e.changeState("2-1")}}},[s("template",{slot:"title"},[e._v("待处理申请")])],2),s("el-menu-item",{attrs:{index:"2-2"},on:{click:function(t){return e.changeState("2-2")}}},[s("template",{slot:"title"},[e._v("全部申请")])],2)],2)],1)],1),s("el-main",[s("el-table",{attrs:{data:e.showApp.rows}},[s("el-table-column",{attrs:{prop:"userName",label:"用户名"}}),s("el-table-column",{attrs:{prop:"objectName",label:e.openExperts?"学者名":"文献标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("p",{staticStyle:{cursor:"pointer"},on:{click:function(s){return e.checkObject(t.row)}}},[e._v(" "+e._s(t.row.objectName)+" ")])]}}])}),s("el-table-column",{attrs:{prop:"email",label:"联系邮箱"}}),s("el-table-column",{attrs:{prop:"time",label:"时间"}}),s("el-table-column",{attrs:{prop:"result",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(0===t.row.result?"未审核":"已审核")+" ")]}}])}),s("el-table-column",{attrs:{prop:"msg",label:"审批意见",width:"300"}}),e.openTodeal?s("el-table-column",{attrs:{width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.openTodeal?s("el-button",{attrs:{type:"primary",plain:""},on:{click:function(s){return e.agreeSubmit(t.row)}}},[e._v("通过")]):e._e()]}}],null,!1,2160926541)}):e._e(),e.openTodeal?s("el-table-column",{attrs:{width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"danger",plain:""},on:{click:function(s){return e.reject(t.row)}}},[e._v("拒绝")])]}}],null,!1,2505246523)}):e._e()],1),s("div",{staticClass:"block"},[s("el-pagination",{attrs:{layout:"prev, pager, next","current-page":e.showApp.page,total:e.showApp.totalElements},on:{"current-change":function(t){return e.changePage()}}})],1)],1)],1),s("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("el-input",{attrs:{placeholder:"请输入拒绝原因",clearable:""},model:{value:e.rejectReason,callback:function(t){e.rejectReason=t},expression:"rejectReason"}}),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:e.rejectSubmit}},[e._v("确 定")])],1)],1)],1)},r=[],a=s("71c2"),n={name:"admin",components:{Header:a["a"]},data:function(){return{allAppExperts:{},toDealAppExperts:{},allAppAcademic:{},toDealAppAcademic:{},showApp:{totalPages:0,page:0,totalElements:0,rows:[]},openExperts:!1,openTodeal:!0,dialogVisible:!1,rejectItem:null,rejectReason:null,current_page:3,total_page:10,total_elements:1e3}},methods:{checkUser:function(e){console.log(e)},checkObject:function(e){1===e.flag?this.$router.push("/scholarPage/"+e.objectID):this.$router.push("/academicShow/"+e.objectID)},reject:function(e){this.dialogVisible=!0,this.rejectItem=e},rejectSubmit:function(){this.dialogVisible=!1;var e=this;console.log(this.rejectItem+this.rejectReason),this.$api.application.reject({formID:e.rejectItem.formID,token:sessionStorage.getItem("token"),reason:e.rejectReason}),this.$message({message:"已拒绝该申请",type:"warning"})},agreeSubmit:function(e){this.$api.application.agree({formID:e.formID,token:sessionStorage.getItem("token")}),this.$message({message:"已同意该申请",type:"success"})},changePage:function(){var e=this.showApp,t=this.showApp.page;e===this.allAppAcademic?this.getOneApp(!0,0,t):e===this.allAppExperts?this.getOneApp(!0,1,t):e===this.toDealAppAcademic?this.getOneApp(!1,0,t):e===this.toDealAppExperts&&this.getOneApp(!1,1,t)},changeState:function(e){"1-1"===e&&(this.showApp=this.toDealAppExperts,this.openExperts=!0,this.openTodeal=!0),"1-2"===e&&(this.showApp=this.allAppExperts,this.openExperts=!0,this.openTodeal=!1),"2-1"===e&&(this.showApp=this.toDealAppAcademic,this.openExperts=!1,this.openTodeal=!0),"2-2"===e&&(this.showApp=this.allAppAcademic,this.openExperts=!1,this.openTodeal=!1)},getAllApp:function(){this.getOneApp(!0,1,10,1),this.getOneApp(!1,1,10,1),this.getOneApp(!0,0,1),this.getOneApp(!1,0,1)},getOneApp:function(e,t,s){var o=this;this.$api.application.getAll({size:10,page:s,isAll:e,flag:t,token:sessionStorage.getItem("token")}).then((function(s){"200"===s.code?(console.log(s.data),e&&1===t&&(o.allAppExperts=s.data),e&&0===t&&(o.allAppAcademic=s.data),!1===e&&1===t&&(o.toDealAppExperts=s.data),!1===e&&0===t&&(o.toDealAppAcademic=s.data,o.showApp=s.data)):console.log(s.code,s.msg)}))}},mounted:function(){this.getAllApp()}},i=n,l=s("2877"),c=Object(l["a"])(i,o,r,!1,null,"2ae694be",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-431d5c32.e1cbc0ae.js.map